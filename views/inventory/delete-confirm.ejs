<% if (title) { %>
<h1><%= title %></h1>
<% } else {
  res.redirect('/')
} %>

<%- messages() %>

<% if (errors) { %>
  <ul class="notice-add-inventory">
 <% errors.array().forEach(error => { %>
   <li><%= error.msg %></li>
<%  }) %>
 </ul>
<% } %>


<div class="registration-page">
    <p class="registration-page-title">CONFIRM DELETION - THE DELETION IS PERMANENT</p>
    <form action="/inv/delete" method="post">
        <fieldset>
            <div class="form-addInventory-group">
                <label for="make">Make *</label>
                <input type="text" id="make" name="inv_make" placeholder="Min of 3 characters" minlength="3" required value="<%= locals.inv_make %>" readonly>
            </div>
            <div class="form-addInventory-group">
                <label for="model">Model *</label>
                <input type="text" id="model" name="inv_model" placeholder="Min of 3 characters" minlength="3" required value="<%= locals.inv_model %>" readonly>
            </div>
            <div class="form-addInventory-group">
                <label for="price">Price</label>
                <input class="detail" type="number" id="price" name="inv_price" placeholder="decimal or integer" required value="<%= locals.inv_price %>" readonly>
            </div>
            <div class="form-addInventory-group">
                <label for="year">Year</label>
                <input class="detail type="number" id="year" name="inv_year" placeholder="4-digit year" pattern="\d{4}" required value="<%= locals.inv_year %>" readonly>
            </div>
            <button  type="submit" class="register-button">Delete</button>
            <input type="hidden" name="inv_id" value="<%= locals.inv_id %>">
        </fieldset>
    </form>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function(){
        document.querySelectorAll("ul.notice-add-inventory li").forEach(li =>{
            if(li.textContent.trim() === "Invalid value"){
                li.style.display = "none";
            }
         })
    })
</script>
